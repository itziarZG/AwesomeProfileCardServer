{"ast":null,"code":"import _defineProperty from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React from\"react\";import Header from\"./Header\";import Footer from\"./Footer\";import PreviewCard from\"./PreviewCard\";import Form from\"./Form\";import getDataFromApi from\"../service/api.js\";var CardGenerator=/*#__PURE__*/function(_React$Component){_inherits(CardGenerator,_React$Component);var _super=_createSuper(CardGenerator);function CardGenerator(props){var _this;_classCallCheck(this,CardGenerator);_this=_super.call(this,props);_this.state={palette:1,name:\"\",job:\"\",phone:\"\",photo:{url:\"\",isAvatarDefault:false},email:\"\",linkedin:\"\",github:\"\",apiObject:{isLoading:false,apiError:\"\",apiCardURL:\"\",apiSuccess:false,apiCall:false},isEmpty:true};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleReset=_this.handleReset.bind(_assertThisInitialized(_this));_this.updateAvatar=_this.updateAvatar.bind(_assertThisInitialized(_this));_this.handlePalette=_this.handlePalette.bind(_assertThisInitialized(_this));_this.setLocalStorage=_this.setLocalStorage.bind(_assertThisInitialized(_this));_this.getLocalStorage=_this.getLocalStorage.bind(_assertThisInitialized(_this));_this.handleClickCreate=_this.handleClickCreate.bind(_assertThisInitialized(_this));_this.checkForm=_this.checkForm.bind(_assertThisInitialized(_this));return _this;}_createClass(CardGenerator,[{key:\"componentDidMount\",value:function componentDidMount(){// console.log(\"entro en didmount\");\nthis.getLocalStorage(\"data\");this.checkForm();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){// console.log(\"entro en didupdate\");\nthis.setLocalStorage();}},{key:\"setLocalStorage\",value:function setLocalStorage(){var data={palette:this.state.palette,name:this.state.name,job:this.state.job,phone:this.state.phone,photo:this.state.photo.url,email:this.state.email,linkedin:this.state.linkedin,github:this.state.github};localStorage.setItem(\"data\",JSON.stringify(data));}},{key:\"getLocalStorage\",value:function getLocalStorage(){if(localStorage.getItem(\"data\")){var data=JSON.parse(localStorage.getItem(\"data\"));this.setState({palette:data.palette,name:data.name,job:data.job,phone:data.phone,photo:{url:data.photo},email:data.email,linkedin:data.linkedin,github:data.github});}}},{key:\"updateAvatar\",value:function updateAvatar(img){var photo=this.state.photo;this.setState(function(){var newPhoto=_objectSpread(_objectSpread({},photo),{},{url:img,isAvatarDefault:false});return{photo:newPhoto};});}},{key:\"handleReset\",value:function handleReset(){this.setState(function(){return{palette:1,name:\"\",job:\"\",phone:\"\",photo:\"\",email:\"\",linkedin:\"\",github:\"\",isEmpty:true};});}},{key:\"handlePalette\",value:function handlePalette(value){this.setState({palette:value});}},{key:\"checkForm\",value:function checkForm(){if(localStorage.getItem(\"data\")){var data=JSON.parse(localStorage.getItem(\"data\"));var valores=Object.values(data);var emptyItem=valores.filter(function(item){return item===\"\";});console.log(emptyItem);if(emptyItem.length<=1){this.setState(_objectSpread(_objectSpread({},this.state.isEmpty),{},{isEmpty:false}));}}}},{key:\"handleChange\",value:function handleChange(ev){var atrib=ev.currentTarget.id;var value=ev.currentTarget.value;if(value===\"\")this.setState(_objectSpread(_objectSpread({},this.state.isEmpty),{},{isEmpty:true}));this.setState(function(){return _defineProperty({},atrib,value);});this.checkForm();}},{key:\"handleClickCreate\",value:function handleClickCreate(){var _this2=this;this.setState(_objectSpread(_objectSpread({},this.state.apiObject),{},{apiObject:{isLoading:true}}));var data={palette:this.state.palette,name:this.state.name,job:this.state.job,phone:this.state.phone,photo:this.state.photo.url,email:this.state.email,linkedin:this.state.linkedin,github:this.state.github};getDataFromApi(data).then(function(response){console.log(response);if(response.success===true){_this2.setState(_objectSpread(_objectSpread({},_this2.state.apiObject),{},{apiObject:{apiError:\"\",apiCardURL:response.cardURL,apiSuccess:true,apiCall:true,isLoading:false}}));}else{_this2.setState(_objectSpread(_objectSpread({},_this2.state.apiObject),{},{apiObject:{apiError:response.error,apiCardURL:\"\",apiSuccess:false,apiCall:true,isLoading:false}}));}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-all\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"main-all__photo main-all__img\",children:/*#__PURE__*/_jsx(PreviewCard,{name:this.state.name,job:this.state.job,phone:this.state.phone,email:this.state.email,linkedin:this.state.linkedin,github:this.state.github,photo:this.state.photo.url,palette:this.state.palette,handleReset:this.handleReset})}),/*#__PURE__*/_jsx(\"section\",{className:\"main-all__photo main-photo__design\",children:/*#__PURE__*/_jsx(Form,{name:this.state.name,job:this.state.job,phone:this.state.phone,email:this.state.email,linkedin:this.state.linkedin,github:this.state.github,photo:this.state.photo,palette:this.state.palette// inputValue={this.state}\n,handleChange:this.handleChange,updateAvatar:this.updateAvatar,handlePalette:this.handlePalette,handleClickCreate:this.handleClickCreate,apiObject:this.state.apiObject,isEmpty:this.state.isEmpty})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return CardGenerator;}(React.Component);export default CardGenerator;","map":{"version":3,"sources":["/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/src/components/CardGenerator.js"],"names":["React","Header","Footer","PreviewCard","Form","getDataFromApi","CardGenerator","props","state","palette","name","job","phone","photo","url","isAvatarDefault","email","linkedin","github","apiObject","isLoading","apiError","apiCardURL","apiSuccess","apiCall","isEmpty","handleChange","bind","handleReset","updateAvatar","handlePalette","setLocalStorage","getLocalStorage","handleClickCreate","checkForm","data","localStorage","setItem","JSON","stringify","getItem","parse","setState","img","newPhoto","value","valores","Object","values","emptyItem","filter","item","console","log","length","ev","atrib","currentTarget","id","then","response","success","cardURL","error","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport PreviewCard from \"./PreviewCard\";\r\nimport Form from \"./Form\";\r\nimport getDataFromApi from \"../service/api.js\";\r\n\r\nclass CardGenerator extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      palette: 1,\r\n      name: \"\",\r\n      job: \"\",\r\n      phone: \"\",\r\n      photo: {\r\n        url: \"\",\r\n        isAvatarDefault: false,\r\n      },\r\n      email: \"\",\r\n      linkedin: \"\",\r\n      github: \"\",\r\n      apiObject: {\r\n        isLoading: false,\r\n        apiError: \"\",\r\n        apiCardURL: \"\",\r\n        apiSuccess: false,\r\n        apiCall: false,\r\n      },\r\n      isEmpty: true,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.updateAvatar = this.updateAvatar.bind(this);\r\n    this.handlePalette = this.handlePalette.bind(this);\r\n    this.setLocalStorage = this.setLocalStorage.bind(this);\r\n    this.getLocalStorage = this.getLocalStorage.bind(this);\r\n    this.handleClickCreate = this.handleClickCreate.bind(this);\r\n    this.checkForm = this.checkForm.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    // console.log(\"entro en didmount\");\r\n    this.getLocalStorage(\"data\");\r\n    this.checkForm();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    // console.log(\"entro en didupdate\");\r\n    this.setLocalStorage();\r\n  }\r\n\r\n  setLocalStorage() {\r\n    const data = {\r\n      palette: this.state.palette,\r\n      name: this.state.name,\r\n      job: this.state.job,\r\n      phone: this.state.phone,\r\n      photo: this.state.photo.url,\r\n      email: this.state.email,\r\n      linkedin: this.state.linkedin,\r\n      github: this.state.github,\r\n    };\r\n    localStorage.setItem(\"data\", JSON.stringify(data));\r\n  }\r\n\r\n  getLocalStorage() {\r\n    if (localStorage.getItem(\"data\")) {\r\n      const data = JSON.parse(localStorage.getItem(\"data\"));\r\n      this.setState({\r\n        palette: data.palette,\r\n        name: data.name,\r\n        job: data.job,\r\n        phone: data.phone,\r\n        photo: {\r\n          url: data.photo,\r\n        },\r\n        email: data.email,\r\n        linkedin: data.linkedin,\r\n        github: data.github,\r\n      });\r\n    }\r\n  }\r\n\r\n  updateAvatar(img) {\r\n    const { photo } = this.state;\r\n    this.setState(() => {\r\n      const newPhoto = { ...photo, url: img, isAvatarDefault: false };\r\n      return {\r\n        photo: newPhoto,\r\n      };\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState(() => {\r\n      return {\r\n        palette: 1,\r\n        name: \"\",\r\n        job: \"\",\r\n        phone: \"\",\r\n        photo: \"\",\r\n        email: \"\",\r\n        linkedin: \"\",\r\n        github: \"\",\r\n        isEmpty: true,\r\n      };\r\n    });\r\n  }\r\n\r\n  handlePalette(value) {\r\n    this.setState({\r\n      palette: value,\r\n    });\r\n  }\r\n  checkForm() {\r\n    if (localStorage.getItem(\"data\")) {\r\n      const data = JSON.parse(localStorage.getItem(\"data\"));\r\n\r\n      let valores = Object.values(data);\r\n\r\n      const emptyItem = valores.filter((item) => {\r\n        return item === \"\";\r\n      });\r\n      console.log(emptyItem);\r\n      if (emptyItem.length <= 1) {\r\n        this.setState({ ...this.state.isEmpty, isEmpty: false });\r\n      }\r\n    }\r\n  }\r\n  handleChange(ev) {\r\n    const atrib = ev.currentTarget.id;\r\n    const value = ev.currentTarget.value;\r\n    if (value === \"\") this.setState({ ...this.state.isEmpty, isEmpty: true });\r\n    this.setState(() => {\r\n      return {\r\n        [atrib]: value,\r\n      };\r\n    });\r\n    this.checkForm();\r\n  }\r\n\r\n  handleClickCreate() {\r\n    this.setState({ ...this.state.apiObject, apiObject: { isLoading: true } });\r\n    const data = {\r\n      palette: this.state.palette,\r\n      name: this.state.name,\r\n      job: this.state.job,\r\n      phone: this.state.phone,\r\n      photo: this.state.photo.url,\r\n      email: this.state.email,\r\n      linkedin: this.state.linkedin,\r\n      github: this.state.github,\r\n    };\r\n    getDataFromApi(data).then((response) => {\r\n      console.log(response);\r\n      if (response.success === true) {\r\n        this.setState({\r\n          ...this.state.apiObject,\r\n          apiObject: {\r\n            apiError: \"\",\r\n            apiCardURL: response.cardURL,\r\n            apiSuccess: true,\r\n            apiCall: true,\r\n            isLoading: false,\r\n          },\r\n        });\r\n      } else {\r\n        this.setState({\r\n          ...this.state.apiObject,\r\n          apiObject: {\r\n            apiError: response.error,\r\n            apiCardURL: \"\",\r\n            apiSuccess: false,\r\n            apiCall: true,\r\n            isLoading: false,\r\n          },\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Header></Header>\r\n        <main className=\"main-all\">\r\n          <section className=\"main-all__photo main-all__img\">\r\n            <PreviewCard\r\n              name={this.state.name}\r\n              job={this.state.job}\r\n              phone={this.state.phone}\r\n              email={this.state.email}\r\n              linkedin={this.state.linkedin}\r\n              github={this.state.github}\r\n              photo={this.state.photo.url}\r\n              palette={this.state.palette}\r\n              handleReset={this.handleReset}\r\n            ></PreviewCard>\r\n          </section>\r\n          <section className=\"main-all__photo main-photo__design\">\r\n            <Form\r\n              name={this.state.name}\r\n              job={this.state.job}\r\n              phone={this.state.phone}\r\n              email={this.state.email}\r\n              linkedin={this.state.linkedin}\r\n              github={this.state.github}\r\n              photo={this.state.photo}\r\n              palette={this.state.palette}\r\n              // inputValue={this.state}\r\n              handleChange={this.handleChange}\r\n              updateAvatar={this.updateAvatar}\r\n              handlePalette={this.handlePalette}\r\n              handleClickCreate={this.handleClickCreate}\r\n              apiObject={this.state.apiObject}\r\n              isEmpty={this.state.isEmpty}\r\n            ></Form>\r\n          </section>\r\n        </main>\r\n        <Footer></Footer>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CardGenerator;\r\n"]},"metadata":{},"sourceType":"module"}