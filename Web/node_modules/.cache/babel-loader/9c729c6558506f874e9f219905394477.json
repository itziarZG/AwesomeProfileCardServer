{"ast":null,"code":"import _classCallCheck from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";var GetAvatar=/*#__PURE__*/function(_Component){_inherits(GetAvatar,_Component);var _super=_createSuper(GetAvatar);function GetAvatar(props){var _this;_classCallCheck(this,GetAvatar);_this=_super.call(this,props);_this.fr=new FileReader();_this.myFileField=/*#__PURE__*/React.createRef();_this.handleFilePicker=_this.handleFilePicker.bind(_assertThisInitialized(_this));_this.uploadImage=_this.uploadImage.bind(_assertThisInitialized(_this));_this.getImage=_this.getImage.bind(_assertThisInitialized(_this));return _this;}_createClass(GetAvatar,[{key:\"handleFilePicker\",value:function handleFilePicker(){this.myFileField.current.click();}},{key:\"uploadImage\",value:function uploadImage(e){var myFile=e.currentTarget.files[0];this.fr.addEventListener(\"load\",this.getImage);if(!!myFile){this.fr.readAsDataURL(myFile);}}},{key:\"getImage\",value:function getImage(){var image=this.fr.result;this.props.updateAvatar(image);}},{key:\"getPreview\",value:function getPreview(isDefault,image){return!isDefault?{backgroundImage:\"url(\".concat(image,\")\")}:{};}},{key:\"render\",value:function render(){var _this$props$photo=this.props.photo,isAvatarDefault=_this$props$photo.isAvatarDefault,url=_this$props$photo.url;return/*#__PURE__*/_jsxs(\"div\",{className:\"action\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action__upload-btn js__profile-trigger\",type:\"button\",onClick:this.handleFilePicker,children:\"A\\xF1adir imagen\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:this.myFileField,className:\"action__hiddenField js__profile-upload-btn\",onChange:this.uploadImage}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__preview js__profile-preview\",style:this.getPreview(isAvatarDefault,url),onChange:this.props.updateAvatar})]});}}]);return GetAvatar;}(Component);export default GetAvatar;","map":{"version":3,"sources":["/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/src/components/GetAvatar.js"],"names":["React","Component","GetAvatar","props","fr","FileReader","myFileField","createRef","handleFilePicker","bind","uploadImage","getImage","current","click","e","myFile","currentTarget","files","addEventListener","readAsDataURL","image","result","updateAvatar","isDefault","backgroundImage","photo","isAvatarDefault","url","getPreview"],"mappings":"20BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAGMC,CAAAA,S,sGACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EAEA,MAAKC,EAAL,CAAU,GAAIC,CAAAA,UAAJ,EAAV,CACA,MAAKC,WAAL,cAAmBN,KAAK,CAACO,SAAN,EAAnB,CAEA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,+BAAxB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CACA,MAAKE,QAAL,CAAgB,MAAKA,QAAL,CAAcF,IAAd,+BAAhB,CARiB,aASlB,C,iFAEkB,CACjB,KAAKH,WAAL,CAAiBM,OAAjB,CAAyBC,KAAzB,GACD,C,gDAEWC,C,CAAG,CACb,GAAMC,CAAAA,MAAM,CAAGD,CAAC,CAACE,aAAF,CAAgBC,KAAhB,CAAsB,CAAtB,CAAf,CACA,KAAKb,EAAL,CAAQc,gBAAR,CAAyB,MAAzB,CAAiC,KAAKP,QAAtC,EACA,GAAI,CAAC,CAACI,MAAN,CAAc,CACZ,KAAKX,EAAL,CAAQe,aAAR,CAAsBJ,MAAtB,EACD,CACF,C,2CAEU,CACT,GAAMK,CAAAA,KAAK,CAAG,KAAKhB,EAAL,CAAQiB,MAAtB,CACA,KAAKlB,KAAL,CAAWmB,YAAX,CAAwBF,KAAxB,EACD,C,8CAEUG,S,CAAWH,K,CAAO,CAC3B,MAAO,CAACG,SAAD,CAAa,CAAEC,eAAe,eAASJ,KAAT,KAAjB,CAAb,CAAoD,EAA3D,CACD,C,uCAEQ,uBAC0B,KAAKjB,KAAL,CAAWsB,KADrC,CACCC,eADD,mBACCA,eADD,CACkBC,GADlB,mBACkBA,GADlB,CAEP,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,eACE,SAAS,CAAC,wCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,KAAKnB,gBAHhB,8BADF,cASE,cACE,IAAI,CAAC,MADP,CAEE,GAAG,CAAE,KAAKF,WAFZ,CAGE,SAAS,CAAC,4CAHZ,CAIE,QAAQ,CAAE,KAAKI,WAJjB,EATF,cAgBE,YACE,SAAS,CAAC,sCADZ,CAEE,KAAK,CAAE,KAAKkB,UAAL,CAAgBF,eAAhB,CAAiCC,GAAjC,CAFT,CAGE,QAAQ,CAAE,KAAKxB,KAAL,CAAWmB,YAHvB,EAhBF,GADF,CAwBD,C,uBA3DqBrB,S,EAoExB,cAAeC,CAAAA,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass GetAvatar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fr = new FileReader();\n    this.myFileField = React.createRef();\n\n    this.handleFilePicker = this.handleFilePicker.bind(this);\n    this.uploadImage = this.uploadImage.bind(this);\n    this.getImage = this.getImage.bind(this);\n  }\n\n  handleFilePicker() {\n    this.myFileField.current.click();\n  }\n\n  uploadImage(e) {\n    const myFile = e.currentTarget.files[0];\n    this.fr.addEventListener(\"load\", this.getImage);\n    if (!!myFile) {\n      this.fr.readAsDataURL(myFile);\n    }\n  }\n\n  getImage() {\n    const image = this.fr.result;\n    this.props.updateAvatar(image);\n  }\n\n  getPreview(isDefault, image) {\n    return !isDefault ? { backgroundImage: `url(${image})` } : {};\n  }\n\n  render() {\n    const { isAvatarDefault, url } = this.props.photo;\n    return (\n      <div className=\"action\">\n        <button\n          className=\"action__upload-btn js__profile-trigger\"\n          type=\"button\"\n          onClick={this.handleFilePicker}\n        >\n          AÃ±adir imagen\n        </button>\n\n        <input\n          type=\"file\"\n          ref={this.myFileField}\n          className=\"action__hiddenField js__profile-upload-btn\"\n          onChange={this.uploadImage}\n        />\n\n        <div\n          className=\"profile__preview js__profile-preview\"\n          style={this.getPreview(isAvatarDefault, url)}\n          onChange={this.props.updateAvatar}\n        ></div>\n      </div>\n    );\n  }\n}\n\nGetAvatar.propTypes = {\n  isAvatarDefault: PropTypes.bool,\n  avatar: PropTypes.string,\n  updateAvatar: PropTypes.func.isRequired,\n};\n\nexport default GetAvatar;\n"]},"metadata":{},"sourceType":"module"}