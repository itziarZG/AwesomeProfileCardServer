{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/src/components/GetAvatar.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass GetAvatar extends Component {\n  constructor(props) {\n    super(props);\n    this.fr = new FileReader();\n    this.myFileField = /*#__PURE__*/React.createRef();\n    this.handleFilePicker = this.handleFilePicker.bind(this);\n    this.uploadImage = this.uploadImage.bind(this);\n    this.getImage = this.getImage.bind(this);\n  }\n\n  handleFilePicker() {\n    this.myFileField.current.click();\n  }\n\n  uploadImage(e) {\n    const myFile = e.currentTarget.files[0];\n    this.fr.addEventListener(\"load\", this.getImage);\n\n    if (!!myFile) {\n      this.fr.readAsDataURL(myFile);\n    }\n  }\n\n  getImage() {\n    const image = this.fr.result;\n    this.props.updateAvatar(image);\n  }\n\n  getPreview(isDefault, image) {\n    return !isDefault ? {\n      backgroundImage: `url(${image})`\n    } : {};\n  }\n\n  render() {\n    const {\n      isAvatarDefault,\n      url\n    } = this.props.photo;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action__upload-btn js__profile-trigger\",\n        type: \"button\",\n        onClick: this.handleFilePicker,\n        children: \"A\\xF1adir imagen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: this.myFileField,\n        className: \"action__hiddenField js__profile-upload-btn\",\n        onChange: this.uploadImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile__preview js__profile-preview\",\n        style: this.getPreview(isAvatarDefault, url),\n        onChange: this.props.updateAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nGetAvatar.propTypes = {\n  isAvatarDefault: PropTypes.bool,\n  avatar: PropTypes.string,\n  updateAvatar: PropTypes.func.isRequired\n};\nexport default GetAvatar;","map":{"version":3,"sources":["/Users/ichi/Desktop/ADALAB/REPOSITORIOS/AwesomeProfileCardServer/Web/src/components/GetAvatar.js"],"names":["React","Component","PropTypes","GetAvatar","constructor","props","fr","FileReader","myFileField","createRef","handleFilePicker","bind","uploadImage","getImage","current","click","e","myFile","currentTarget","files","addEventListener","readAsDataURL","image","result","updateAvatar","getPreview","isDefault","backgroundImage","render","isAvatarDefault","url","photo","propTypes","bool","avatar","string","func","isRequired"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,SAAN,SAAwBF,SAAxB,CAAkC;AAChCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,EAAL,GAAU,IAAIC,UAAJ,EAAV;AACA,SAAKC,WAAL,gBAAmBR,KAAK,CAACS,SAAN,EAAnB;AAEA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AAEDD,EAAAA,gBAAgB,GAAG;AACjB,SAAKF,WAAL,CAAiBM,OAAjB,CAAyBC,KAAzB;AACD;;AAEDH,EAAAA,WAAW,CAACI,CAAD,EAAI;AACb,UAAMC,MAAM,GAAGD,CAAC,CAACE,aAAF,CAAgBC,KAAhB,CAAsB,CAAtB,CAAf;AACA,SAAKb,EAAL,CAAQc,gBAAR,CAAyB,MAAzB,EAAiC,KAAKP,QAAtC;;AACA,QAAI,CAAC,CAACI,MAAN,EAAc;AACZ,WAAKX,EAAL,CAAQe,aAAR,CAAsBJ,MAAtB;AACD;AACF;;AAEDJ,EAAAA,QAAQ,GAAG;AACT,UAAMS,KAAK,GAAG,KAAKhB,EAAL,CAAQiB,MAAtB;AACA,SAAKlB,KAAL,CAAWmB,YAAX,CAAwBF,KAAxB;AACD;;AAEDG,EAAAA,UAAU,CAACC,SAAD,EAAYJ,KAAZ,EAAmB;AAC3B,WAAO,CAACI,SAAD,GAAa;AAAEC,MAAAA,eAAe,EAAG,OAAML,KAAM;AAAhC,KAAb,GAAoD,EAA3D;AACD;;AAEDM,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,eAAF;AAAmBC,MAAAA;AAAnB,QAA2B,KAAKzB,KAAL,CAAW0B,KAA5C;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACE;AACE,QAAA,SAAS,EAAC,wCADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,OAAO,EAAE,KAAKrB,gBAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eASE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,GAAG,EAAE,KAAKF,WAFZ;AAGE,QAAA,SAAS,EAAC,4CAHZ;AAIE,QAAA,QAAQ,EAAE,KAAKI;AAJjB;AAAA;AAAA;AAAA;AAAA,cATF,eAgBE;AACE,QAAA,SAAS,EAAC,sCADZ;AAEE,QAAA,KAAK,EAAE,KAAKa,UAAL,CAAgBI,eAAhB,EAAiCC,GAAjC,CAFT;AAGE,QAAA,QAAQ,EAAE,KAAKzB,KAAL,CAAWmB;AAHvB;AAAA;AAAA;AAAA;AAAA,cAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAwBD;;AA3D+B;;AA8DlCrB,SAAS,CAAC6B,SAAV,GAAsB;AACpBH,EAAAA,eAAe,EAAE3B,SAAS,CAAC+B,IADP;AAEpBC,EAAAA,MAAM,EAAEhC,SAAS,CAACiC,MAFE;AAGpBX,EAAAA,YAAY,EAAEtB,SAAS,CAACkC,IAAV,CAAeC;AAHT,CAAtB;AAMA,eAAelC,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass GetAvatar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fr = new FileReader();\n    this.myFileField = React.createRef();\n\n    this.handleFilePicker = this.handleFilePicker.bind(this);\n    this.uploadImage = this.uploadImage.bind(this);\n    this.getImage = this.getImage.bind(this);\n  }\n\n  handleFilePicker() {\n    this.myFileField.current.click();\n  }\n\n  uploadImage(e) {\n    const myFile = e.currentTarget.files[0];\n    this.fr.addEventListener(\"load\", this.getImage);\n    if (!!myFile) {\n      this.fr.readAsDataURL(myFile);\n    }\n  }\n\n  getImage() {\n    const image = this.fr.result;\n    this.props.updateAvatar(image);\n  }\n\n  getPreview(isDefault, image) {\n    return !isDefault ? { backgroundImage: `url(${image})` } : {};\n  }\n\n  render() {\n    const { isAvatarDefault, url } = this.props.photo;\n    return (\n      <div className=\"action\">\n        <button\n          className=\"action__upload-btn js__profile-trigger\"\n          type=\"button\"\n          onClick={this.handleFilePicker}\n        >\n          AÃ±adir imagen\n        </button>\n\n        <input\n          type=\"file\"\n          ref={this.myFileField}\n          className=\"action__hiddenField js__profile-upload-btn\"\n          onChange={this.uploadImage}\n        />\n\n        <div\n          className=\"profile__preview js__profile-preview\"\n          style={this.getPreview(isAvatarDefault, url)}\n          onChange={this.props.updateAvatar}\n        ></div>\n      </div>\n    );\n  }\n}\n\nGetAvatar.propTypes = {\n  isAvatarDefault: PropTypes.bool,\n  avatar: PropTypes.string,\n  updateAvatar: PropTypes.func.isRequired,\n};\n\nexport default GetAvatar;\n"]},"metadata":{},"sourceType":"module"}